const trainlineData = {
    'renfe': {
        name: 'Renfe',
        accent: '830065',
        style: 'purple',
        // thumb: thumbData['british'],
        logo: {
            text: '<svg fill="#830065" viewBox="58.399986267089844 46.805904388427734 2688.98974609375 1027.8673095703125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="m1622 355.2h-391c-20.6 115.9-54.7 314.2-71.6 411.1h166.1c12.7-72.9 47.5-272.8 62.9-360.3h124.6c52.3 0 89.9 35.3 81.2 95.8-8.3 47.9-28.4 163.3-46.1 264.5h166.1c11.8-68 34.8-199.8 45.6-261.9 14.8-84.2-29.7-149.2-137.8-149.2"></path><path d="m773.5 717.3c-77.2-12.7-62.8-105-62.8-105 68.5 8.2 154.9 6.3 213.9 0.4 51.1-5 151.9-17.7 180.7-96.3 28.5-77.9 6.8-140.9-87.2-158.5-69.2-12.8-133.5-13.5-217.5-2.2-119.9 16.1-185.9 56.7-215.2 128-16.1 39.3-25.8 86-30.1 128.4-7.6 77.1 6.9 147.8 103.4 155.5 129.4 10.4 231.2 8.1 339-8.8l33.6-47.9c-102.3 17-218.9 12.9-257.8 6.4m-32.5-229c20.6-49 50.9-79.8 107.6-92.8 25.1-5.8 46.5-5.7 76.5 0.8 44.5 9.5 58.2 61.4 38.6 101.9-21.8 45.2-51 55.3-89.2 63.1-41.4 8.6-95.9 9.8-155.9 5.7 4.2-25.1 14.7-60.4 22.4-78.7"></path><path d="m2404 717.3c-77.2-12.7-62.8-105-62.8-105 68.6 8.2 154.9 6.3 213.9 0.4 51.1-5 151.9-17.7 180.6-96.3 28.5-77.9 6.9-140.9-87.1-158.5-69.3-12.8-133.6-13.5-217.6-2.2-119.9 16.1-185.7 56.7-215.1 128-16.2 39.3-25.9 86-30.1 128.4-7.6 77.1 6.9 147.8 103.4 155.5 129.3 10.4 231.1 8.1 339.1-8.8l33.5-47.9c-102.3 17-218.8 12.9-257.8 6.4m-32.4-229c20.5-49 50.8-79.8 107.4-92.8 25.1-5.8 46.6-5.7 76.6 0.8 44.5 9.5 58.1 61.4 38.7 101.9-21.9 45.2-51 55.3-89.2 63.1-41.4 8.6-95.9 9.8-155.9 5.7 4.1-25.1 14.6-60.4 22.4-78.7"></path><path d="m272.3 492.2c8.8-50.2 26.6-79.2 81.1-89.1 48.8-8.9 139.1-3 192.1 2.9l35.6-50.9c-80.3-5.8-215.9-12.4-296.3-0.7-114.6 16.6-161.3 40-174.3 113.3-7.7 43.9-42.3 242.3-52.1 298.6h166.1c11.4-65.4 39.7-227.7 47.8-274.1"></path><path d="m2065 103.3c-94.4 66.2-126.4 147.4-143.8 247.2l-70.4 402.7c-15.8 91.6-22.8 139.4-38.4 184.4-12.5 37.7-53.6 93.1-122 94l-29.9 42.6c88.3 4.3 158.9-21.2 208.8-56.1 94.4-66.1 129.2-160.7 146.7-260.3 1.2-6.8 31.9-183.1 46.6-266.6 10.7-59.3 41.8-91.8 107.3-92.7l30.4-43.3h-114c16.2-92.4 22-132.3 35.3-170.7 13-37.7 53.7-93.1 121.9-93.9l30.4-43.3c-88.5-4.4-159 21.1-208.9 56"></path></svg>',
            icon: null,
        },
        link: {
            // mobile: 'renfe://',
            desktop: 'https://www.renfe.com/es/en',
        },
    },
    'ouigo': {
        name: 'Ouigo',
        accent: 'e50a70',
        style: 'pink',
        // thumb: thumbData['british'],
        logo: {
            text: '<svg fill="#e50a70" viewBox="10.416999816894531 77.19901275634766 212.42401123046875 65.17998504638672" xmlns="http://www.w3.org/2000/svg"><path d="m10.417 118.871v-.131c0-12.995 10.376-23.639 24.653-23.639s24.521 10.514 24.521 23.508v.131c0 12.995-10.376 23.639-24.653 23.639-14.276-.001-24.521-10.514-24.521-23.508m38.533 0v-.131c0-7.836-5.816-14.366-14.012-14.366-8.195 0-13.879 6.399-13.879 14.235v.131c0 7.836 5.816 14.366 14.012 14.366s13.879-6.399 13.879-14.235m14.738 3.133v-21.483c0-2.808 2.247-5.028 5.089-5.028s5.089 2.22 5.089 5.028v21.223c0 7.444 3.767 11.297 9.98 11.297s9.98-3.722 9.98-10.971v-21.549c0-2.808 2.247-5.028 5.089-5.028s5.089 2.22 5.089 5.028v21.157c0 13.844-7.865 20.635-20.291 20.635-12.424 0-20.025-6.856-20.025-20.309m46.927-21.483c0-2.808 2.247-5.028 5.089-5.028s5.089 2.22 5.089 5.028v36.438c0 2.808-2.247 5.028-5.089 5.028s-5.089-2.221-5.089-5.028zm15.465 18.35v-.131c0-12.995 10.245-23.639 24.257-23.639 7.006 0 11.632 1.567 15.796 4.44.991.718 2.115 2.09 2.115 4.049 0 2.743-2.247 4.963-5.023 4.963-1.454 0-2.379-.522-3.106-1.045-2.775-1.959-5.75-3.134-10.112-3.134-7.402 0-13.284 6.464-13.284 14.235v.131c0 8.358 5.816 14.497 14.012 14.497 3.701 0 7.006-.914 9.583-2.743v-6.529h-6.873c-2.445 0-4.429-1.895-4.429-4.311s1.983-4.375 4.429-4.375h11.632c2.843 0 5.09 2.221 5.09 5.028v11.101c0 2.938-1.124 4.963-3.569 6.399-3.768 2.286-9.253 4.571-16.193 4.571-14.411 0-24.325-9.991-24.325-23.507m47.588 0v-.131c0-12.995 10.376-23.639 24.652-23.639s24.521 10.514 24.521 23.508v.131c0 12.995-10.376 23.639-24.652 23.639s-24.521-10.514-24.521-23.508m38.532 0v-.131c0-7.836-5.816-14.366-14.012-14.366s-13.88 6.399-13.88 14.235v.131c0 7.836 5.816 14.366 14.012 14.366s13.88-6.399 13.88-14.235m-90.349-35.521a6.15 6.15 0 1 1 -12.301-.001 6.15 6.15 0 0 1 12.301.001"></path></svg>',
            icon: null,
        },
        link: {
            // mobile: 'ouigo://',
            desktop: 'https://www.renfe.com/es/en',
        },
    },
    'swr': {
        name: 'South Western Railway',
        accent: '00A1D9',
        style: 'cyan',
        // thumb: thumbData['british'],
        logo: {
            text: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 430.9 131.3"><g fill="#231F20"><path d="M31.7,14.2c-0.5-3.6-2.4-7.1-9.4-7.1c-5.9,0-9.9,1.4-9.9,7.1c0,12.6,28.5,4.6,28.5,24.9 c0,11.1-9.4,15-18.6,15C8.4,54.1,3,44.5,3,37.9c0-1,0.8-1.7,1.7-1.7h4.5c1,0,1.6,0.8,1.7,1.6c0.2,2.5,1.7,9.2,11.4,9.2 c6.5,0,10.5-2.1,10.5-7.9c0-12.4-28.5-4.5-28.5-24.9C4.4,5,11,0,22.5,0c12.6,0,17.4,7.7,17.4,14c0,1-0.8,1.7-1.8,1.7h-4.5 C32.6,15.8,32,15.2,31.7,14.2"/><path d="M59.5,15c9,0,16.2,6.6,16.2,17.1V37c0,10.5-7.1,17.1-16.2,17.1c-9.1,0-16.2-6.5-16.2-17.1v-4.9 C43.4,21.6,50.4,15,59.5,15 M59.5,47.2c4.7,0,8-3.2,8-9.2v-6.8c0-6-3.4-9.2-8-9.2c-4.7,0-8.1,3.2-8.1,9.2v6.8 C51.4,43.9,54.9,47.2,59.5,47.2"/><path d="M110.5,17.6v34c0,1-0.8,1.7-1.7,1.7h-4.6c-1,0-1.7-0.8-1.7-1.7v-2.3c-1.9,2.6-4.7,4.8-10.1,4.8 c-8.8,0-13.1-6.5-13.1-17.1V17.6c0-1.1,0.8-1.8,1.7-1.8h4.6c1,0,1.7,0.8,1.7,1.8v20.4c0,6,2.9,9.2,7.4,9.2c4.6,0,7.7-3.2,7.7-9.2 V17.6c0-1.1,0.8-1.8,1.7-1.8h4.6C109.8,15.8,110.5,16.5,110.5,17.6"/><path d="M121.1,41.3V22.9h-5.2c-1,0-1.7-0.8-1.7-1.7v-3.6c0-1.1,0.8-1.8,1.7-1.8c3.7,0,5.3-0.8,5.3-4.7V7.8 c0-1.1,0.8-1.8,1.7-1.8h4.4c1,0,1.8,0.8,1.8,1.8v8h7.6c1,0,1.7,0.8,1.7,1.8v3.6c0,1-0.8,1.7-1.7,1.7h-7.6v17.2c0,4.3,0.5,5.9,5,5.9 h2.6c1,0,1.7,0.8,1.7,1.8v3.8c0,1-0.8,1.7-1.7,1.7h-4C123.7,53.3,121.1,49,121.1,41.3"/><path d="M142.1,51.6v-49c0-1.1,0.8-1.8,1.7-1.8h4.6c1,0,1.7,0.8,1.7,1.8v17.5c2-2.9,5-5,10.4-5 c9.2,0,13.7,6.9,13.7,17.1v19.5c0,1-0.8,1.7-1.7,1.7h-4.6c-1,0-1.7-0.8-1.7-1.7V31.2c0-6-3.3-9.2-8-9.2c-4.6,0-8,3.2-8,9.2v20.4 c0,1-0.8,1.7-1.7,1.7h-4.6C142.8,53.3,142.1,52.6,142.1,51.6"/><path d="M251.9,2c0,0.2-0.1,0.7-0.3,1.3L238.3,52c-0.2,0.7-0.8,1.4-1.7,1.4h-5.9c-0.9,0-1.5-0.7-1.7-1.4l-10.1-39.1 l-10,39.1c-0.2,0.7-0.8,1.4-1.7,1.4h-5.7c-0.8,0-1.5-0.5-1.7-1.4L186.3,3.7c-0.2-0.6-0.4-1.4-0.4-1.7c0-0.8,0.5-1.3,1.2-1.3h5.6 c0.7,0,1.6,0.3,1.9,1.7l9.8,38.8l10.1-38.8c0.3-1.2,0.9-1.8,1.8-1.8h5.3c0.8,0,1.5,0.4,1.9,1.8l10.1,38.8l9.7-38.8 c0.2-0.8,0.7-1.8,1.9-1.8h5.4C251.3,0.7,251.9,1.3,251.9,2"/><path d="M264.6,47.2c2.6,0,5.4-0.5,7.4-4.5c0.3-0.4,0.8-1.1,1.8-1.1h4.8c0.8,0,1.2,0.5,1.2,1.2 c0,0.4-0.1,0.9-0.3,1.3c-2.8,7.3-9.3,10-14.9,10c-9,0-16.2-6.5-16.2-17.1v-4.9c0-10.5,7.1-17.1,16.2-17.1c8.9,0,16,6.8,16,16.9v3.5 c0,1-0.8,1.7-1.8,1.7h-22.3v1.1C256.4,43.6,259.9,47.2,264.6,47.2 M272.6,30.6c0-5.5-3.5-8.7-8.1-8.7c-4.7,0-8.1,3.2-8.1,8.7v0.8 h16.2V30.6z"/><path d="M282.6,43.6c-0.1-0.3-0.2-0.8-0.1-1.1c0-0.8,0.5-1.2,1.3-1.2h4.7c0.8,0,1.2,0.5,1.4,1.1c0.5,2,2.2,5,7.6,5 c4.3,0,7-1.4,7-4.7c0-7.8-21.3-1.5-21.3-16.8c0-7.7,6.7-11,14.2-11c9.2,0,12.8,5.6,14,10c0.1,0.2,0.1,0.7,0.1,1.1 c-0.1,0.8-0.6,1.3-1.4,1.3h-4.7c-0.9,0-1.1-0.4-1.4-1.2c-0.8-2.1-2-4.6-7.1-4.6c-3.2,0-6.2,1-6.2,4.1c0,8.3,21.3,2,21.3,17 c0,8.5-6.9,11.5-14.7,11.5C288.2,54.1,283.4,48.7,282.6,43.6"/><path d="M319.2,41.3V22.9H314c-1,0-1.7-0.8-1.7-1.7v-3.6c0-1.1,0.8-1.8,1.7-1.8c3.7,0,5.3-0.8,5.3-4.7V7.8 c0-1.1,0.8-1.8,1.7-1.8h4.4c1,0,1.8,0.8,1.8,1.8v8h7.6c1,0,1.7,0.8,1.7,1.8v3.6c0,1-0.7,1.7-1.7,1.7h-7.6v17.2c0,4.3,0.5,5.9,5,5.9 h2.6c1,0,1.7,0.8,1.7,1.8v3.8c0,1-0.7,1.7-1.7,1.7h-4C321.8,53.3,319.2,49,319.2,41.3"/><path d="M355.1,47.2c2.6,0,5.4-0.5,7.4-4.5c0.3-0.4,0.8-1.1,1.8-1.1h4.8c0.8,0,1.2,0.5,1.2,1.2 c0,0.4-0.2,0.9-0.3,1.3c-2.8,7.3-9.3,10-14.9,10c-9,0-16.2-6.5-16.2-17.1v-4.9c0-10.5,7.1-17.1,16.2-17.1c8.9,0,16,6.8,16,16.9v3.5 c0,1-0.8,1.7-1.8,1.7h-22.3v1.1C346.9,43.6,350.5,47.2,355.1,47.2 M363.2,30.6c0-5.5-3.5-8.7-8.1-8.7c-4.7,0-8.1,3.2-8.1,8.7v0.8 h16.2V30.6z"/><path d="M375,51.6v-34c0-1.1,0.8-1.8,1.7-1.8h4.1c1,0,1.8,0.8,1.8,1.8v3.8c1.8-3.2,5.1-5.6,10-5.6h1 c1,0,1.7,0.8,1.7,1.8v4.5c0,1-0.8,1.7-1.7,1.7h-1.1c-6.2,0-9.5,3.8-9.5,10.8v17c0,1-0.8,1.7-1.8,1.7h-4.4 C375.8,53.3,375,52.6,375,51.6"/><path d="M398.8,51.6v-34c0-1.1,0.8-1.8,1.7-1.8h4.6c1,0,1.7,0.8,1.7,1.8v2.5c2-2.9,5-5,10.4-5 c9.2,0,13.7,6.9,13.7,17.1v19.5c0,1-0.8,1.7-1.7,1.7h-4.6c-1,0-1.7-0.8-1.7-1.7V31.2c0-6-3.4-9.2-8-9.2c-4.7,0-8,3.2-8,9.2v20.4 c0,1-0.8,1.7-1.7,1.7h-4.6C399.6,53.3,398.8,52.6,398.8,51.6"/><path d="M71.7,116.3h-4.6c-1,0-1.7-0.8-1.7-1.7v-49c0-1.1,0.8-1.8,1.7-1.8h18.9c9.5,0,16.2,5.2,16.2,15.4v1.7 c0,6.8-3.1,12.1-10.4,14.3l9.8,18.5c0.4,0.6,0.6,1.1,0.6,1.6c0,0.7-0.5,1.2-1.2,1.2h-5.8c-1,0-1.5-0.7-1.9-1.4L84,96.4H73.5v18.2 C73.5,115.6,72.7,116.3,71.7,116.3 M85.5,88.8c4.7,0,8.7-2.4,8.7-8.1v-1.1c0-6.2-4.1-8.3-8.7-8.3H73.5v17.5H85.5z"/><path d="M133,116.3H129c-1,0-1.7-0.8-1.7-1.7v-2.5c-1.6,3.2-5.5,5-9.5,5h-1.2c-6.3,0-12.1-3-12.1-11.3 c0-10.6,9.9-11.4,15.1-11.4h7.7v-2c0-4.5-1.8-7.4-7.4-7.4c-4.8,0-5.8,2-6.3,4.2c-0.2,0.7-0.6,1.2-1.4,1.2h-4.7 c-0.8,0-1.4-0.5-1.4-1.4c0-0.2,0.1-0.6,0.2-0.9c0.8-4,3.1-10.1,13.7-10.1c12.7,0,14.9,7.4,14.9,14.6v22 C134.7,115.6,134,116.3,133,116.3 M111.9,105.7c0,3.8,3.1,5,6.2,5h1.2c7,0,8-4.5,8-8.6v-1.9h-7.5C115,100.2,111.9,101.4,111.9,105.7 "/><path d="M150.9,68.2c0,2.9-2,4.9-5,4.9c-2.9,0-4.9-2-4.9-4.9c0-2.9,2-4.9,4.9-4.9C148.9,63.3,150.9,65.3,150.9,68.2  M142,114.6v-34c0-1.1,0.8-1.8,1.7-1.8h4.6c1,0,1.7,0.8,1.7,1.8v34c0,1-0.8,1.7-1.7,1.7h-4.6C142.7,116.3,142,115.6,142,114.6"/><path d="M157.8,114.6v-49c0-1.1,0.8-1.8,1.7-1.8h4.6c1,0,1.7,0.8,1.7,1.8v49c0,1-0.8,1.7-1.7,1.7h-4.6 C158.5,116.3,157.8,115.6,157.8,114.6"/><path d="M222.6,80c0,0.5-0.3,1.3-0.5,2l-10.6,33.1c-0.3,0.8-1,1.2-1.7,1.2h-4.2c-1.1,0-1.6-0.8-1.7-1.4L196,88.9 l-7.7,26.1c-0.2,0.6-0.7,1.3-1.7,1.3h-4.4c-0.9,0-1.5-0.5-1.7-1.2l-10.8-33.3c-0.3-0.9-0.5-1.5-0.5-1.8c0-0.8,0.5-1.3,1.3-1.3h5.1 c0.9,0,1.6,0.6,1.9,1.8l7.1,25l7.2-25c0.2-1,0.7-1.8,1.9-1.8h4.7c1,0,1.5,0.6,1.9,1.8l7.4,24.5l6.6-24.5c0.3-1.2,0.9-1.8,1.9-1.8 h5.2C222.1,78.8,222.6,79.3,222.6,80"/><path d="M251.1,116.3H247c-1,0-1.7-0.8-1.7-1.7v-2.5c-1.6,3.2-5.5,5-9.5,5h-1.2c-6.3,0-12.1-3-12.1-11.3 c0-10.6,9.9-11.4,15.1-11.4h7.7v-2c0-4.5-1.8-7.4-7.4-7.4c-4.8,0-5.8,2-6.3,4.2c-0.2,0.7-0.6,1.2-1.4,1.2h-4.7 c-0.8,0-1.4-0.5-1.4-1.4c0-0.2,0.1-0.6,0.2-0.9c0.8-4,3.1-10.1,13.7-10.1c12.7,0,14.9,7.4,14.9,14.6v22 C252.8,115.6,252.1,116.3,251.1,116.3 M230,105.7c0,3.8,3.1,5,6.2,5h1.2c7,0,8-4.5,8-8.6v-1.9h-7.5C233.1,100.2,230,101.4,230,105.7 "/><path d="M289.5,80c0,0.3-0.2,1.1-0.5,1.6l-14.4,37.3c-3.1,8.2-5.1,12.4-13.9,12.4h-3.3c-1,0-1.7-0.8-1.7-1.7v-3.9 c0-1,0.8-1.7,1.7-1.7h2.8c4.4,0,5.7-2.1,6.8-4.9l1.1-3.1L255,82.2c-0.3-0.9-0.7-1.7-0.7-2.2c0-0.8,0.5-1.3,1.3-1.3h5.3 c0.5,0,1.4,0.2,1.8,1.6l9.6,25.9l9.1-26c0.3-1.1,1-1.5,1.7-1.5h5.3C289.1,78.8,289.5,79.3,289.5,80"/></g><path fill="#00A1D9" d="M43.5,71.4H1.8C1,71.4,0,72.2,0,73.1c0,0,0,1.5,0,1.5l0,3.2c0,0.9,0.7,1.7,1.6,1.7l29.2,0c0,0-7.4,7.4-8,8 h-21c-1.1,0-1.8,0.8-1.8,1.7V94c0,0.9,0.8,1.7,1.6,1.7l13,0l-14,14c-0.4,0.4-0.6,1-0.6,1.7v3.5c0,0.8,0.8,1.6,1.6,1.6h3.5 c0.7,0,1.2-0.2,1.6-0.6l30.1-30.1l0,10.6l-18.4,18.4c-0.5,0.4-0.5,1.7,0.9,1.7h7.7c0.8,0,1.4-0.2,1.9-0.8l7.8-7.8l0,7.1 c0,0.8,0.8,1.5,1.7,1.5h4.9c0.8,0,1.5-0.7,1.5-1.5v-42C45,72.1,44.4,71.4,43.5,71.4"/></svg>',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 71.4000015258789 44.83854293823242 45.09999084472656"><path fill="#00A1D9" d="M43.5,71.4H1.8C1,71.4,0,72.2,0,73.1c0,0,0,1.5,0,1.5l0,3.2c0,0.9,0.7,1.7,1.6,1.7l29.2,0c0,0-7.4,7.4-8,8 h-21c-1.1,0-1.8,0.8-1.8,1.7V94c0,0.9,0.8,1.7,1.6,1.7l13,0l-14,14c-0.4,0.4-0.6,1-0.6,1.7v3.5c0,0.8,0.8,1.6,1.6,1.6h3.5 c0.7,0,1.2-0.2,1.6-0.6l30.1-30.1l0,10.6l-18.4,18.4c-0.5,0.4-0.5,1.7,0.9,1.7h7.7c0.8,0,1.4-0.2,1.9-0.8l7.8-7.8l0,7.1 c0,0.8,0.8,1.5,1.7,1.5h4.9c0.8,0,1.5-0.7,1.5-1.5v-42C45,72.1,44.4,71.4,43.5,71.4"></path></svg>',
        },
        link: {
            // mobile: 'ouigo://',
            desktop: 'https://www.southwesternrailway.com',
        },
    },
}

const trainData = {
    'lon-exe': {
        number: 'SWR',
        dep: {
            code: 'LON',
            city: 'London',
            station: 'Paddington',
            time: '1:20pm',
        },
        arr: {
            code: 'EXE',
            city: 'Exeter',
            station: 'St. David\'s',
            time: '4:42pm',
        },
        duration: '3h 22m',
        start: 'Fri, 6 May',
        date: '6 May, 2022 13:20:00',
        seat: null,
        line: trainlineData.swr,
        return: 'exe-lon',
        link: 'https://www.notion.so/hrishabhn/Exeter-a982636aa41d40b0adff797d1ac0aa9a'
    },
    'exe-lon': {
        number: 'SWR',
        dep: {
            code: 'EXE',
            city: 'Exeter',
            station: 'St. David\'s',
            time: '2:25pm',
        },
        arr: {
            code: 'LON',
            city: 'London',
            station: 'Paddington',
            time: '5:54pm',
        },
        duration: '3h 29m',
        start: 'Sun, 8 May',
        date: '8 May, 2022 14:25:00',
        seat: null,
        line: trainlineData.swr,
        return: 'lon-exe',
        link: 'https://www.notion.so/hrishabhn/Exeter-a982636aa41d40b0adff797d1ac0aa9a'
    },
}

const train = {
    data: trainData,
    card: function (key) {
        const train = trainData[key]

        let card = document.createElement('div')
        card.classList = 'travel-card flight layer-1 card-shadow'
        card.style.setProperty('--col', `#${train.line.accent}`)

        // header
        const subtext = `${train.number} &#149 ${processDate.day.short(train.date)} ${new Date(train.date).getDate()} ${processDate.month.short(train.date)}`

        // tray
        const trayData = [
            {
                icon: SFSymbols.wallet.pass.fill,
                text: 'Ticket',
                link: train.link ?? null,
            },
            // {
            //     icon: SFSymbols.airplane,
            //     text: train.aircraft.name,
            //     // trigger: function() { show plane card }
            // },
            {
                icon: SFSymbols.app.dashed,
                text: 'App',
                link: processDeviceLink(train.line.link),
            },
            {
                icon: SFSymbols.arrow.triangle.circlepath,
                text: 'Other Leg',
                trigger: function () { trainData[train.return].detail() }
            },
        ]

        let nodes = [
            travelCard.row({
                left: travelCard.left.dep(),
                right: travelCard.deparr(train.dep),
            }),
            travelCard.row({
                left: travelCard.left.train(),
                right: travelCard.duration(train.duration),
            }),
            travelCard.row({
                left: travelCard.left.arr(),
                right: travelCard.deparr(train.arr),
            }),
            elems.spacer(8),
        ]

        card.append(travelCard.header({
            logo: train.line.logo,
            name: subtext,
            desc: `${train.dep.city} to ${train.arr.city}`
        }))
        card.append(travelCard.actionTray(trayData))
        card.append(elems.hline())
        for (const node of nodes) card.append(node)
        card.append(elems.mobCardBottom())

        return card
    },
    widget: function (key) {
        const train = key ? trainData[key] : Object.values(trainData)[0]

        let card = widgetCardBase('a')
        card.classList.add('flight', 'clickable-b')
        card.onclick = function () { train.detail() }

        // top
        card.append(travelWidget.top({
            logo: train.line.logo,
            code: null,
            number: train.number,
        }))
        card.append(elems.grow())

        // middle
        card.append(travelWidget.middle({
            icon: SFSymbols.tram.fill,
            city: train.arr.city,
            style: train.line.style,
        }))
        card.append(elems.spacer(5))

        // bottom
        card.append(travelWidget.count({ date: train.date }))
        card.append(elems.spacer(2))
        card.append(travelWidget.date({ train: train, date: train.date }))

        return card
    },
}

for (const key in train.data) {
    train.data[key].detail = function () { modal.add(train.card(key), null, true) }
    train.data[key].type = 'train'
}