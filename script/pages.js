function menuLoad() {
  menuSwitchApps()
  menuSwitch(1)
  // tvPopup(movieData[0][0])
}

const menuData = [
  {
    type: 'title',
    name: 'MENU',
  },
  {
    type: 'page',
    name: 'Home',
    icon: '<svg class="icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m498.195312 222.695312c-.011718-.011718-.023437-.023437-.035156-.035156l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.8125-33.328126-13.8125-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.140626.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.445312 13.238281 31.277344 13.746093.480468.046876.964843.070313 1.453124.070313h8.324219v153.699219c0 30.414062 24.746094 55.160156 55.167969 55.160156h81.710938c8.28125 0 15-6.714844 15-15v-120.5c0-13.878906 11.289062-25.167969 25.167968-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.285156 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.160156v-153.699219h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.808594 18.359375-18.371093 18.367187-48.253906.023437-66.636719zm0 0" /></svg>',
    // icon: '<svg class="icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M498.7 222.695c-.016-.011-.028-.027-.04-.039L289.805 13.81C280.902 4.902 269.066 0 256.477 0c-12.59 0-24.426 4.902-33.332 13.809L14.398 222.55c-.07.07-.144.144-.21.215-18.282 18.386-18.25 48.218.09 66.558 8.378 8.383 19.44 13.235 31.273 13.746.484.047.969.07 1.457.07h8.32v153.696c0 30.418 24.75 55.164 55.168 55.164h81.711c8.285 0 15-6.719 15-15V376.5c0-13.879 11.293-25.168 25.172-25.168h48.195c13.88 0 25.168 11.29 25.168 25.168V497c0 8.281 6.715 15 15 15h81.711c30.422 0 55.168-24.746 55.168-55.164V303.14h7.719c12.586 0 24.422-4.903 33.332-13.813 18.36-18.367 18.367-48.254.027-66.633zm-21.243 45.422a17.03 17.03 0 01-12.117 5.024H442.62c-8.285 0-15 6.714-15 15v168.695c0 13.875-11.289 25.164-25.168 25.164h-66.71V376.5c0-30.418-24.747-55.168-55.169-55.168H232.38c-30.422 0-55.172 24.75-55.172 55.168V482h-66.71c-13.876 0-25.169-11.29-25.169-25.164V288.14c0-8.286-6.715-15-15-15H48a13.9 13.9 0 00-.703-.032c-4.469-.078-8.66-1.851-11.8-4.996-6.68-6.68-6.68-17.55 0-24.234.003 0 .003-.004.007-.008l.012-.012L244.363 35.02A17.003 17.003 0 01256.477 30c4.574 0 8.875 1.781 12.113 5.02l208.8 208.796.098.094c6.645 6.692 6.633 17.54-.031 24.207zm0 0"/></svg>',
    color: 'blue',
    trigger: 'mainRefresh();menuSwitch(1)',
  },
  {
    type: 'page',
    name: 'Bookmarks',
    icon: '<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 423.936 423.936"><path d="M327.68 0H96.256c-22.528 0-40.96 18.432-40.96 40.96v357.376c0 9.728 5.632 18.944 14.336 23.04 9.216 4.096 19.456 3.072 27.136-3.072l.512-.512 114.688-96.768 114.688 96.768.512.512c4.608 3.584 10.24 5.632 15.872 5.632 3.584 0 7.68-1.024 11.264-3.072 8.704-4.096 14.336-13.312 14.336-23.04V40.96C368.64 18.432 350.208 0 327.68 0z"/></svg>',
    color: 'orange',
    trigger: 'menuSwitch(2)',
  },
  {
    type: 'page',
    name: 'Apps',
    icon: '<svg class="icon" x="0px" y="0px" viewBox="0 0 469.333 469.333"><g><path d="M170.667,0h-128C19.135,0,0,19.135,0,42.667v128c0,23.531,19.135,42.667,42.667,42.667h128 c23.531,0,42.667-19.135,42.667-42.667v-128C213.333,19.135,194.198,0,170.667,0z"/><path d="M426.667,0h-128C275.135,0,256,19.135,256,42.667v128c0,23.531,19.135,42.667,42.667,42.667h128 c23.531,0,42.667-19.135,42.667-42.667v-128C469.333,19.135,450.198,0,426.667,0z"/><path d="M170.667,256h-128C19.135,256,0,275.135,0,298.667v128c0,23.531,19.135,42.667,42.667,42.667h128 c23.531,0,42.667-19.135,42.667-42.667v-128C213.333,275.135,194.198,256,170.667,256z"/><path d="M416,341.333h-32v-32c0-5.896-4.771-10.667-10.667-10.667H352c-5.896,0-10.667,4.771-10.667,10.667v32h-32 c-5.896,0-10.667,4.771-10.667,10.667v21.333c0,5.896,4.771,10.667,10.667,10.667h32v32c0,5.896,4.771,10.667,10.667,10.667 h21.333c5.896,0,10.667-4.771,10.667-10.667v-32h32c5.896,0,10.667-4.771,10.667-10.667V352 C426.667,346.104,421.896,341.333,416,341.333z"/></g></svg>',
    color: 'green',
    trigger: 'menuSwitch(3)',
  },
  {
    type: 'page',
    name: 'School',
    icon: '<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M361 8.787V100h91.213zM149.565 250.713h53.077l-26.417-69.999z"/><path d="M346 130c-8.284 0-15-6.716-15-15V0H66c-8.284 0-15 6.716-15 15v482c0 8.284 6.716 15 15 15h380c8.284 0 15-6.716 15-15V130zm-80 40h15v-15c0-8.284 6.716-15 15-15s15 6.716 15 15v15h15c8.284 0 15 6.716 15 15s-6.716 15-15 15h-15v15c0 8.284-6.716 15-15 15s-15-6.716-15-15v-15h-15c-8.284 0-15-6.716-15-15s6.716-15 15-15zm-21.542 149.034c-1.744.658-3.534.97-5.294.97-6.062 0-11.77-3.701-14.036-9.708l-11.164-29.583H138.14l-11.283 29.626c-2.949 7.742-11.615 11.627-19.356 8.679-7.742-2.948-11.627-11.615-8.679-19.356l60.08-157.747c.043-.114.088-.227.134-.339 2.873-7.024 9.633-11.568 17.222-11.575h.019c7.582 0 14.341 4.528 17.226 11.541.056.136.109.272.161.409l59.534 157.753c2.923 7.751-.99 16.405-8.74 19.33zM386 450H266c-8.284 0-15-6.716-15-15s6.716-15 15-15h120c8.284 0 15 6.716 15 15s-6.716 15-15 15zm0-60H266c-8.284 0-15-6.716-15-15s6.716-15 15-15h120c8.284 0 15 6.716 15 15s-6.716 15-15 15z"/></svg>',
    color: 'blue',
    trigger: 'menuSwitch(4)',
  },
  {
    type: 'page',
    name: 'Media',
    icon: '<svg class="icon" data-bbox="15.49 8.193 132.882 147.475" viewBox="0 0 163.861 163.861" xmlns="http://www.w3.org/2000/svg" data-type="shape"><g><path d="M39.564 11.445C26.27 3.818 15.49 10.065 15.49 25.388v113.074c0 15.338 10.78 21.577 24.075 13.958l98.832-56.68c13.3-7.629 13.3-19.99 0-27.617L39.564 11.445z" xmlns="http://www.w3.org/2000/svg" /></g></svg>',
    color: 'red',
    trigger: 'menuSwitch(5)',
  },
  {
    type: 'title',
    name: 'MEDIA',
  },
  {
    type: 'page',
    name: 'Books',
    icon: '<svg class="icon" viewBox="0 -40 448 448" xmlns="http://www.w3.org/2000/svg"><path d="m408 319.929688v-319.929688l-12.207031 1.023438c-48.957031 4.046874-96.976563 15.75-142.304688 34.6875l-21.488281 8.921874v318.664063l15.648438-6.503906c46.90625-19.515625 96.570312-31.589844 147.199218-35.792969zm0 0" /><path d="m448 47.296875h-24v280c.015625 4.171875-3.183594 7.65625-7.34375 8l-20.488281 1.679687c-5.914063.488282-11.8125 1.09375-17.6875 1.816407-1.90625.230469-3.800781.535156-5.695313.800781-3.960937.527344-7.914062 1.0625-11.855468 1.6875-2.296876.367188-4.578126.796875-6.867188 1.199219-3.527344.617187-7.0625 1.230469-10.582031 1.925781-2.402344.480469-4.800781 1.019531-7.25 1.539062-3.351563.710938-6.703125 1.4375-10.03125 2.230469-2.496094.59375-4.984375 1.222657-7.464844 1.855469-3.238281.800781-6.460937 1.664062-9.679687 2.5625-2.503907.6875-5.007813 1.414062-7.503907 2.148438-3.199219.945312-6.351562 1.90625-9.511719 2.914062-2.472656.800781-4.949218 1.601562-7.414062 2.398438-3.164062 1.066406-6.3125 2.167968-9.449219 3.304687-2.398437.871094-4.800781 1.746094-7.253906 2.664063-1.097656.417968-2.1875.863281-3.28125 1.289062h183.359375zm0 0" /><path d="m52.207031 1.023438-12.207031-1.023438v319.953125l14.199219 1.207031c50.597656 4.230469 100.21875 16.378906 147.046875 36l14.753906 6.136719v-318.664063l-21.464844-8.914062c-45.332031-18.941406-93.359375-30.648438-142.328125-34.695312zm0 0" /><path d="m0 47.296875v320h183.488281c-.984375-.386719-1.96875-.800781-2.960937-1.167969-2.289063-.871094-4.597656-1.703125-6.902344-2.542968-3.25-1.179688-6.496094-2.328126-9.769531-3.425782-2.367188-.800781-4.742188-1.578125-7.121094-2.335937-3.246094-1.066407-6.503906-2.070313-9.765625-3.007813-2.402344-.703125-4.800781-1.410156-7.199219-2.082031-3.289062-.910156-6.585937-1.773437-9.890625-2.621094-2.398437-.617187-4.800781-1.234375-7.253906-1.808593-3.351562-.800782-6.722656-1.535157-10.089844-2.257813-2.398437-.519531-4.800781-1.046875-7.199218-1.527344-3.488282-.6875-6.992188-1.304687-10.496094-1.917969-2.296875-.402343-4.59375-.800781-6.894532-1.210937-3.867187-.613281-7.746093-1.132813-11.625-1.65625-1.960937-.261719-3.90625-.574219-5.863281-.796875-5.867187-.710938-11.734375-1.316406-17.601562-1.816406l-21.535157-1.824219c-4.152343-.355469-7.335937-3.835937-7.320312-8v-280zm0 0" /></svg>',
    color: 'books',
    trigger: 'menuSwitch(7)',
  },
  {
    type: 'page',
    name: 'TV & Movies',
    icon: '<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 453.001 453.001" xml:space="preserve"><path d="M420.135 110.203H280.091l49.728-81.594c4.312-7.074 2.072-16.304-5.002-20.615-7.073-4.313-16.304-2.072-20.615 5.002l-59.243 97.207h-36.916L148.8 12.996c-4.311-7.072-13.541-9.312-20.615-5.002-7.074 4.312-9.314 13.541-5.002 20.615l49.728 81.594H32.865C14.743 110.203 0 124.946 0 143.067v271.271c0 18.121 14.743 32.864 32.865 32.864h387.271c18.122 0 32.865-14.743 32.865-32.864V143.067c-.001-18.121-14.744-32.864-32.866-32.864zM317.677 374.912c0 9.866-7.998 17.865-17.865 17.865H71.188c-9.866-.001-17.864-7.999-17.864-17.865V182.494c0-9.866 7.998-17.865 17.865-17.865h228.623c9.866 0 17.865 7.999 17.865 17.865v192.418zm66.115-5.709c-17.093 0-31-13.907-31-31 0-17.094 13.907-31 31-31s31 13.906 31 31-13.907 31-31 31zm0-119c-17.093 0-31-13.906-31-31s13.907-31 31-31 31 13.906 31 31-13.907 31-31 31z"/></svg>',
    color: 'netflix',
    trigger: 'menuSwitch(8)',
  },
  // {
  //   type: 'spacer',
  // },
  {
    type: 'title',
    name: 'Manage',
  },
  {
    type: 'page',
    name: 'Suggest',
    icon: '<svg class="icon" viewBox="0 0 405.272 405.272" xml:space="preserve"><g><path d="M393.401,124.425L179.603,338.208c-15.832,15.835-41.514,15.835-57.361,0L11.878,227.836 c-15.838-15.835-15.838-41.52,0-57.358c15.841-15.841,41.521-15.841,57.355-0.006l81.698,81.699L336.037,67.064 c15.841-15.841,41.523-15.829,57.358,0C409.23,82.902,409.23,108.578,393.401,124.425z"></path></g></svg>',
    color: 'red',
    link: 'clickup://8450846/v/l/81wry-660',
  },
  {
    type: 'page',
    name: 'Edit',
    icon: '<svg class="icon" viewBox="0 0 512 511" xmlns="http://www.w3.org/2000/svg"><path d="M405.332 256.484c-11.797 0-21.332 9.559-21.332 21.332v170.668c0 11.754-9.559 21.332-21.332 21.332H64c-11.777 0-21.332-9.578-21.332-21.332V149.816c0-11.754 9.555-21.332 21.332-21.332h170.668c11.797 0 21.332-9.558 21.332-21.332 0-11.777-9.535-21.336-21.332-21.336H64c-35.285 0-64 28.715-64 64v298.668c0 35.286 28.715 64 64 64h298.668c35.285 0 64-28.714 64-64V277.816c0-11.796-9.54-21.332-21.336-21.332zm0 0"/><path d="M200.02 237.05a10.793 10.793 0 00-2.922 5.438l-15.082 75.438c-.703 3.496.406 7.101 2.922 9.64a10.673 10.673 0 007.554 3.114c.68 0 1.387-.063 2.09-.211l75.414-15.082c2.09-.43 3.988-1.43 5.461-2.926l168.79-168.79-75.415-75.41zm0 0M496.383 16.102c-20.797-20.801-54.633-20.801-75.414 0l-29.524 29.523 75.414 75.414 29.524-29.527C506.453 81.465 512 68.066 512 53.816s-5.547-27.648-15.617-37.714zm0 0"/></svg>',
    color: 'mint',
    link: 'vscode://',
  },
  {
    type: 'page',
    name: 'Settings',
    icon: '<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M490.667 448H21.333C9.557 448 0 438.464 0 426.667c0-11.797 9.557-21.333 21.333-21.333h469.333c11.797 0 21.333 9.536 21.333 21.333C512 438.464 502.464 448 490.667 448z"/><circle cx="362.667" cy="426.667" r="53.333"/><path d="M362.667 501.333c-41.173 0-74.667-33.493-74.667-74.667S321.493 352 362.667 352s74.667 33.493 74.667 74.667-33.494 74.666-74.667 74.666zm0-106.666c-17.643 0-32 14.357-32 32s14.357 32 32 32 32-14.357 32-32-14.358-32-32-32zM490.667 106.667H21.333C9.557 106.667 0 97.109 0 85.333S9.557 64 21.333 64h469.333C502.464 64 512 73.557 512 85.333s-9.536 21.334-21.333 21.334z"/><circle cx="362.667" cy="85.333" r="53.333"/><path d="M362.667 160C321.493 160 288 126.507 288 85.333s33.493-74.667 74.667-74.667 74.667 33.493 74.667 74.667S403.84 160 362.667 160zm0-106.667c-17.643 0-32 14.357-32 32s14.357 32 32 32 32-14.357 32-32-14.358-32-32-32zM490.667 277.333H21.333C9.557 277.333 0 267.797 0 256c0-11.776 9.557-21.333 21.333-21.333h469.333c11.797 0 21.333 9.557 21.333 21.333.001 11.797-9.535 21.333-21.332 21.333z"/><circle cx="149.333" cy="256" r="53.333"/><path d="M149.333 330.667c-41.173 0-74.667-33.493-74.667-74.667s33.493-74.667 74.667-74.667S224 214.827 224 256s-33.493 74.667-74.667 74.667zm0-106.667c-17.643 0-32 14.357-32 32s14.357 32 32 32 32-14.357 32-32-14.357-32-32-32z"/></svg>',
    color: 'indigo',
    link: 'github-mac://',
  },
  {
    type: 'page',
    name: 'Clear Cookies',
    icon: '<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.002 512.002"><path d="M501.791 236.285c-32.933-11.827-53.189-45.342-50.644-71.807 0-4.351-2.607-8.394-5.903-11.25-3.296-2.842-8.408-4.072-12.686-3.384-50.186 7.363-96.14-29.352-100.693-80.962a14.978 14.978 0 00-6.914-11.353c-3.94-2.49-8.848-3.032-13.198-1.406C271.074 71.02 232.637 44.084 217.3 8.986c-2.871-6.563-9.99-10.181-17.007-8.628C84.82 26.125.001 137.657.001 256.002c0 140.61 115.39 256 256 256s256-115.39 256-256c-.417-8.934-.479-16.231-10.21-19.717zm-396.54 35.846c-8.284 0-15-6.716-15-15 0-8.286 6.716-15 15-15s15 6.714 15 15c0 8.284-6.717 15-15 15zm60.75 118.871c-24.814 0-45-20.186-45-45s20.186-45 45-45 45 20.186 45 45-20.185 45-45 45zm15-180c-16.538 0-30-13.462-30-30s13.462-30 30-30 30 13.462 30 30-13.462 30-30 30zm120 210c-16.538 0-30-13.462-30-30s13.462-30 30-30 30 13.462 30 30-13.462 30-30 30zm15-120c-24.814 0-45-20.186-45-45s20.186-45 45-45 45 20.186 45 45-20.185 45-45 45zm89.25 31.129c-8.284 0-15-6.716-15-15 0-8.286 6.716-15 15-15s15 6.714 15 15c0 8.284-6.717 15-15 15z"/></svg>',
    color: 'brown',
    trigger: 'clearCookies()',
  },
]

function menuSwitchApps() {
  const dataLength = menuData.length
  var htmlString = ''

  for (i = 0; i < dataLength; i++) {


    if (i > 5) {
      var device = 'hidden-mobile'
    } else {
      var device = ''
    }





    if (menuData[i].type == 'page') {
      if (menuData[i].trigger) {
        var action = `onclick="${menuData[i].trigger}"`
      } else if (menuData[i].link) {
        var action = `href="${menuData[i].link}"`
      }

      var menuItemHTML = `<a id="menu-${i}" class="menu-item ${device}" target="_self" ${action}>
          <div class="menu-item-bg ${menuData[i].color}"></div>
          <span class="menu-item-icon ${menuData[i].color}">
              ${menuData[i].icon}
          </span><span class="menu-item-text primary-fg">
              ${menuData[i].name}
          </span>
      </a>`
    } else if (menuData[i].type == 'title') {
      var menuItemHTML = `<div class="navbar-title hidden-mobile">${menuData[i].name}</div>`
    } else if (menuData[i].type == 'spacer') {
      var menuItemHTML = appendSpacer('','scroll')
      // menuItemHTML = `<div class = "hidden-mobile">${menuItemHTML}</div>`
    }

    htmlString = `${htmlString}${menuItemHTML}`
  }
  var container = document.getElementById('navbar-menu')
  container.innerHTML = htmlString
}

var mainCurrent = 1;

function menuSwitch(n) {
  // const menuSwitchElements = []

  // for (i = 0; i < menuData.length; i++) {
  //   // menuSwitchElements[i] = document.getElementById(`menu-${i}`)
  //   // menuSwitchElements[i].classList.re
  // }
  // console.log(menuSwitchElements)

  var oldMain = document.getElementById("main-" + mainCurrent)
  var oldMenu = document.getElementById("menu-" + mainCurrent)
  oldMain.classList.add("hidden")
  oldMenu.classList.remove("selected")
  // var mainOld = mainCurrent

  // console.log(n)
  var newMain = document.getElementById("main-" + n)
  var newMenu = document.getElementById("menu-" + n)
  newMain.classList.remove("hidden")
  newMenu.classList.add("selected")
  
  mainCurrent = n;

  var title = document.getElementById("title-page")
  var headerText = document.getElementById("header-text")

  title.innerHTML = menuData[n].name
  headerText.innerHTML = menuData[n].name
}



// function pageReset(n) {
//   switch (n) {
//     case 5:
//       showWidgets()
//       // console.log("nice")
//       // tvLoadReset()
//       break
//   }
// }

var widgetState = 2

function widgetBarState() {
  if (widgetState == 1) {
    document.getElementById('widgetbar').classList.remove('state1')
    document.getElementById('widgetbar').classList.add('state2')

    document.getElementById('main-container').classList.remove('state1')
    document.getElementById('main-container').classList.add('state2')
    widgetState = 2
  } else if (widgetState == 2) {
    document.getElementById('widgetbar').classList.add('state1')
    document.getElementById('widgetbar').classList.remove('state2')

    document.getElementById('main-container').classList.add('state1')
    document.getElementById('main-container').classList.remove('state2')
    widgetState = 1
  }
}