function flightDetailCard(flightKey) {
    const flight = flightData[flightKey]

    let card = document.createElement('div')
    card.classList = 'flight-detail-card layer-1'
    card.innerHTML = `
    <div class="header">
        <div class="thumb" style="background-image: url(./appThumb/${flight.airline.thumb});"></div>
        <div class="textbox">
            <p class="subtext">${flight.airline.code} ${flight.number} &#149 ${flight.date}</p>
            <p class="text">${flight.dep.city} to ${flight.arr.city}</p>
        </div>
    </div>
    <div class="fill-width vstack">
        <div class="action-tray">
            <a class="action clickable blue">
                <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M14.1026 4.43011c.5113-.20876 1.0951.0365 1.3038.54781 1.6701 4.09049-.2921 8.76038-4.3825 10.43038-2.36101.964-4.91572.7169-6.97196-.4481-.48051-.2723-.64933-.8826-.37707-1.3631.27226-.4805.8825-.6493 1.36302-.377 1.54625.8761 3.46007 1.0592 5.23001.3366 3.0678-1.2525 4.5394-4.75493 3.2869-7.82279-.2088-.51131.0365-1.09505.5478-1.3038ZM2.19544 9.52389c.06597.25007.14896.49911.24969.74591.10074.2467.21579.4827.34369.7075.27315.48.10544 1.0905-.37457 1.3637-.48001.2731-1.09057.1054-1.36371-.3746-.170573-.2998-.323506-.6136-.457025-.9407-.133519-.327-.243949-.6582-.331921-.9917-.14087-.53399.17784-1.0811.711857-1.22197.534019-.14087 1.081119.17784 1.221989.71186Zm.26371-5.91686c.47709.27823.63829.89053.36007 1.36761-.26431.45322-.46866.93955-.60738 1.44554-.14602.53263-.69618.84604-1.228814.70001C.450396 6.97416.136992 6.424.283019 5.89137c.184683-.67363.456647-1.3209.808521-1.92428.27823-.47708.89053-.63829 1.36761-.36006ZM10.1104.28485c.6737.184683 1.3209.456647 1.9243.80853.4771.27822.6383.89052.3601 1.3676-.2782.47709-.8905.63829-1.3676.36007-.4532-.26431-.9396-.46865-1.44557-.60738-.53263-.14602-.84603-.69618-.70001-1.228813.14603-.53263.69619-.846034 1.22878-.700007ZM7.18978.975282c.14087.534018-.17784 1.081118-.71186 1.221988-.25007.06597-.49914.14896-.74587.24969-.24674.10074-.48272.21579-.7075.3437-.48001.27314-1.09057.10543-1.36371-.37458-.27314-.48001-.10543-1.09057.37458-1.36371.29977-.170572.61362-.323505.94065-.457024.32702-.133519.65823-.243949.99172-.331921.53402-.140869 1.08112.17784 1.22199.711857Z"/></svg></div>
                <p>Status</p>
            </a>
            ${spacerElement(10).outerHTML}
            <a class="action clickable blue">
                <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M14.1026 4.43011c.5113-.20876 1.0951.0365 1.3038.54781 1.6701 4.09049-.2921 8.76038-4.3825 10.43038-2.36101.964-4.91572.7169-6.97196-.4481-.48051-.2723-.64933-.8826-.37707-1.3631.27226-.4805.8825-.6493 1.36302-.377 1.54625.8761 3.46007 1.0592 5.23001.3366 3.0678-1.2525 4.5394-4.75493 3.2869-7.82279-.2088-.51131.0365-1.09505.5478-1.3038ZM2.19544 9.52389c.06597.25007.14896.49911.24969.74591.10074.2467.21579.4827.34369.7075.27315.48.10544 1.0905-.37457 1.3637-.48001.2731-1.09057.1054-1.36371-.3746-.170573-.2998-.323506-.6136-.457025-.9407-.133519-.327-.243949-.6582-.331921-.9917-.14087-.53399.17784-1.0811.711857-1.22197.534019-.14087 1.081119.17784 1.221989.71186Zm.26371-5.91686c.47709.27823.63829.89053.36007 1.36761-.26431.45322-.46866.93955-.60738 1.44554-.14602.53263-.69618.84604-1.228814.70001C.450396 6.97416.136992 6.424.283019 5.89137c.184683-.67363.456647-1.3209.808521-1.92428.27823-.47708.89053-.63829 1.36761-.36006ZM10.1104.28485c.6737.184683 1.3209.456647 1.9243.80853.4771.27822.6383.89052.3601 1.3676-.2782.47709-.8905.63829-1.3676.36007-.4532-.26431-.9396-.46865-1.44557-.60738-.53263-.14602-.84603-.69618-.70001-1.228813.14603-.53263.69619-.846034 1.22878-.700007ZM7.18978.975282c.14087.534018-.17784 1.081118-.71186 1.221988-.25007.06597-.49914.14896-.74587.24969-.24674.10074-.48272.21579-.7075.3437-.48001.27314-1.09057.10543-1.36371-.37458-.27314-.48001-.10543-1.09057.37458-1.36371.29977-.170572.61362-.323505.94065-.457024.32702-.133519.65823-.243949.99172-.331921.53402-.140869 1.08112.17784 1.22199.711857Z"/></svg></div>
                <p>Status</p>
            </a>
        </div>
        <div class="status-bar">
            <p>Departs in 7 days</p>
        </div>
        ${flightDetailCardDepArr(flight.dep,'dep').outerHTML}
        <div class="duration-bar">
            <div></div>
            <div class="line layer-fg"></div>
            <p>Total 2h 35m &#149 1,244km</p>
            <div class="line layer-fg"></div>
        </div>
        ${flightDetailCardDepArr(flight.arr,'arr').outerHTML}
    </div>
    ${spacerElement(40,'only-mobile').outerHTML}
    `

    return card
}

function flightDetailCardDepArr(flightDepArr, depArr) {
    let card = document.createElement('div')
    card.classList = `deparr ${depArr}`
    card.innerHTML = `
    <div class="row">
        <div class="arrow">${iconData['arrow']}</div>
        <div class="airport-code">${flightDepArr.code}</div>
        <div></div>
        <div class="time">${flightDepArr.time}</div>
        <div></div>
    </div>
    <div class="row">
        <div></div>
        <p>${flightDepArr.airport}</p>
        <div></div>
        <p class="bold">Terminal ${dashIfFalse(flightDepArr.terminal)} &#149 Gate ${dashIfFalse(flightDepArr.gate)}</p>
        <div></div>
    </div>
    `

    return card
}

function dashIfFalse(input) {
    if (input) {
        return input
    } else {
        return '--'
    }
}